# 🚀 火星移住計画シミュレータ

火星に建設されたコロニーを管理するシミュレーションゲームです。リソースを管理しながら、できるだけ長くコロニーを存続させることが目標です。

**✨ 視覚障害者の方もスクリーンリーダーで快適にプレイできます** - 完全アクセシビリティ対応

## 特徴

### ゲーム機能
- **4つのリソース管理** - 酸素、水、電力、食料を管理
- **ターンベースシミュレーション** - 戦略的にリソースを計画
- **施設建設システム** - 生産施設を建設してリソースを増産
- **シンプルで分かりやすいルール** - 初心者でもすぐに楽しめる

### アクセシビリティ完全対応 ♿
**視覚障害者の方も含め、すべての人が楽しめるよう設計されています：**

- **スクリーンリーダー完全対応** - NVDA、JAWS、VoiceOver等で操作可能
- **ARIA属性・Live Region** - リソース変化を自動音声通知
- **キーボード操作のみで完結** - マウス不要、すべてTabキーとEnterで操作
- **ハイコントラストモード** - ロービジョンの方向けの高コントラスト表示
- **大きめのフォント（18px）** - 弱視の方にも読みやすい
- **明確なフォーカス表示** - 3pxの太いアウトライン
- **適切なセマンティクスHTML** - 支援技術との互換性

## 技術スタック

- **Laravel 12** - 最新のLaravelフレームワーク
- **Livewire 3.7** - リアクティブなUI
- **SQLite** - データベース
- **Vite** - フロントエンドビルドツール

### データベース選択の目安
- デフォルトはSQLiteで手軽に開始できます（`.env.example`もSQLite想定）。
- 同時アクセスが増える想定なら **MySQL または MariaDB を推奨**。行ロック・接続プールに対応し、書き込み競合に強く運用機能も充実しています。
- MySQL利用例（`.env`）：`DB_CONNECTION=mysql`、`DB_HOST=mysql`、`DB_DATABASE=mars-colony`、`DB_USERNAME=root`、`DB_PASSWORD=secret`、`DB_PORT=3306`。

## セットアップ

### すぐに起動する場合（ビルド済みアセット使用）

```bash
# 依存関係をインストール
composer install --no-dev

# 環境設定
cp .env.example .env
php artisan key:generate

# データベースマイグレーション
php artisan migrate

# 開発サーバー起動
php artisan serve
```

ブラウザで `http://localhost:8000` にアクセス

### 開発・再ビルドする場合

```bash
# 依存関係をインストール（開発パッケージ含む）
composer install
npm install

# 環境設定
cp .env.example .env
php artisan key:generate

# データベースマイグレーション
php artisan migrate

# 開発サーバーとViteを起動（2つのターミナルで実行）
composer run dev  # または: npm run dev と php artisan serve を別々に実行
```

## 使い方

1. ブラウザで `http://localhost:8000` にアクセス
2. ルール説明を読む（`/rules`）
3. ゲームを開始！

### キーボードショートカット

- `Alt + H` - ハイコントラストモード切り替え
- `Alt + R` - ルール説明ページへ移動
- `Tab` - 次の要素へ移動
- `Shift + Tab` - 前の要素へ移動
- `Enter` または `Space` - ボタンを押す

## ゲームルール

### 基本ルール
1. **4つのリソース**を管理：酸素、水、電力、食料
2. **毎ターン**、施設がリソースを生産し、人口がリソースを消費
3. **どれか1つでも0以下になるとゲームオーバー**
4. **施設を建設**してリソースの生産量を増やす
5. **できるだけ長く生き延びる**ことが目標

### 初期状態
- 初期リソース：各200（酸素、水、電力、食料）
- 初期人口：5人
- 初期施設：各リソース生成施設が1つずつ

### リソースの生産と消費

| リソース | 施設1つの生産 | 人口1人の消費 |
|---------|------------|------------|
| 酸素     | +10        | -5         |
| 水       | +10        | -3         |
| 電力     | +15        | -4         |
| 食料     | +8         | -2         |

### 人口の増加
**3ターンごとに人口が1人増加します。** 人口が増えるとリソース消費も増加します。

### 施設建設コスト
すべての施設の建設には各リソース20ずつ必要です。

### 勝利条件
**15ターン以上継続し、かつすべてのリソースが0より大きい状態で勝利です。**

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
